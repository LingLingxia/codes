# FS 常量
- 以下常量由 fs.constants 输出。
## 文件拷贝的常量 以下常量适用于 fs.copyFile()
|常量|说明|
|:--|:--|
|COPYFILE_EXCL|如果目标路径已存在，则拷贝操作将失败。|
|COPYFILE_FICLONE|拷贝操作将尝试创建写时拷贝链接。 如果底层平台不支持写时拷贝，则使用备选的拷贝机制。|
|COPYFILE_FICLONE_FORCE|拷贝操作将尝试创建写时拷贝链接。 如果底层平台不支持写时拷贝，则拷贝操作将失败。|

## 文件打开的常量 以下常量适用于 fs.open()

|常量|说明|
|:--|:--|
|O_RDONLY|表明打开文件用于只读访问。|
|O_WRONLY|表明打开文件用于只写访问。|
|O_RDWR|表明打开文件用于读写访问。|
|O_CREAT|表明如果文件尚不存在则创建该文件。|
|O_EXCL|表明如果设置了 O_CREAT 标志且文件已存在，则打开文件应该失败。|
|O_NOCTTY|表明如果路径是终端设备，则打开该路径不应该造成该终端变成进程的控制终端（如果进程还没有终端）。|
|O_TRUNC|表明如果文件存在且是常规文件、并且文件成功打开以进行写入访问，则其长度应截断为零。|
|O_APPEND|表明数据将追加到文件末尾。|
|O_DIRECTORY|表明如果路径不是目录，则打开应该失败。|
|O_NOATIME|表明文件系统的读取访问将不再导致与文件相关联的 atime 信息的更新。 仅在 Linux 操作系统上可用。|
|O_NOFOLLOW|表明如果路径是符号链接，则打开应该失败。|
|O_SYNC|表明文件是为同步 I/O 打开的，写入操作将等待文件的完整性。|
|O_DSYNC|表明文件是为同步 I/O 打开的，写入操作将等待数据的完整性|
|O_SYMLINK|表明打开符号链接自身，而不是它指向的资源。|
|O_DIRECT|表明将尝试最小化文件 I/O 的缓存效果。|
|O_NONBLOCK|表明在可能的情况下以非阻塞模式打开文件。|

## 文件类型的常量 以下常量适用于 fs.Stats 对象的 mode 属性，用于决定文件的类型。(为啥mode属性有两套值)
|常量|说明|
|:--|:--|
|S_IFMT|用于提取文件类型代码的位掩码。|
|S_IFREG|表示常规文件。|
|S_IFDIR|表示目录。|
|S_IFCHR|表示面向字符的设备文件。|
|S_IFBLK|表示面向块的设备文件。|
|S_IFIFO|表示 FIFO 或管道。|
|S_IFLNK|表示符号链接。|
|S_IFSOCK|表示套接字。|

##   文件模式的常量  以下常量适用于 fs.Stats 对象的 mode 属性，用于决定文件的访问权限。

|常量|说明|
|:--|:--|
|S_IRWXU|表明所有者可读、可写、可执行。|
|S_IRUSR|表明所有者可读。|
|S_IWUSR|表明所有者可写。|
|S_IXUSR|表明所有者可执行。|
|S_IRWXG|表明群组可读、可写、可执行。|
|S_IRGRP|表明群组可读。|
|S_IWGRP|表明群组可写。|
|S_IXGRP|表明群组可执行。|
|S_IRWXO|表明其他人可读、可写、可执行。|
|S_IROTH|表明其他人可读。|
|S_IWOTH|表明其他人可写。|
|S_IXOTH|表明其他人可执行。|

## 文件系统标志
'a' - 打开文件用于追加。如果文件不存在，则创建该文件。

'ax' - 与 'a' 相似，但如果路径已存在则失败。

'a+' - 打开文件用于读取和追加。如果文件不存在，则创建该文件。

'ax+' - 与 'a+' 相似，但如果路径已存在则失败。

'as' - 以同步模式打开文件用于追加。如果文件不存在，则创建该文件。

'as+' - 以同步模式打开文件用于读取和追加。如果文件不存在，则创建该文件。

'r' - 打开文件用于读取。如果文件不存在，则出现异常。

'r+' - 打开文件用于读取和写入。如果文件不存在，则出现异常。

'rs+' - 以同步模式打开文件用于读取和写入。指示操作系统绕过本地的文件系统缓存。

这对于在 NFS 挂载上打开文件时非常有用，因为它允许跳过可能过时的本地缓存。 它对 I/O 性能有非常实际的影响，因此除非需要，否则不建议使用此标志。

这不会将 fs.open() 或 fsPromises.open() 转换为同步的阻塞调用。 如果需要同步的操作，则应使用 fs.openSync() 之类的。

'w' - 打开文件用于写入。如果文件不存在则创建文件，如果文件已存在则截断文件。

'wx' - 与 'w' 相似，但如果路径已存在则失败。

'w+' - 打开文件用于读取和写入。如果文件不存在则创建文件，如果文件已存在则截断文件。

'wx+' - 与 'w+' 相似，但如果路径已存在则失败。